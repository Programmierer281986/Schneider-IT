@use "../abstracts/colors" as *;
@use "../abstracts/variables" as *;
@use "../base/animations" as *;

.navigation {
    position: fixed;
    display: flex;
    justify-content: center;
    align-items: center;
    right: 0;
    top: 0;
    height: 100vh;
    width: 100vw;
    font-size: clamp(1.2rem, 1.64vw, 1.5rem);
    background-color: var(--background-color-2);
    transform: translateX(100vw);
    transition: transform var(--transition-middle) ease-in-out;
    user-select: none;
    z-index: 1000;

    & > * {
        opacity: 0;
        transition: opacity var(--transition-short) ease-in-out;
    }

    & .list {
        margin: 0;
        padding: 0;
        list-style: none;
        display: flex;
        align-items: center;
        justify-content: space-between;
        flex-direction: column;
    }

    & .item {
        position: relative;
        padding: 1rem 0;
    }

    & .navlink {
        text-decoration: none;
        font-weight: 400;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 0 40px;

        position: relative;
        transition: transform 1s cubic-bezier(0.19, 1, 0.22, 1);

        &::before {
            content: "";
            position: absolute;
            top: -30px;
            bottom: -30px;
            left: 0;
            right: 0;
        }

        & .link-showcase {
            position: relative;
            width: 100%;
            display: flex;
            height: 2rem;
            overflow: hidden;
        }

        & .link-text {
            position: relative;
            color: var(--font-color);
            transform-origin: left center;
            font-weight: 600;
            transition: transform 1s cubic-bezier(0.19, 1, 0.22, 1);

            &::after {
                content: attr(data-after);
                display: block;
                position: absolute;
                transform-origin: left center;
                color: var(--font-color-navigation-hover);
                top: calc(
                    220% - 15px
                ); // 30px weniger als beim unteren Hover-Effect, damit JS-Code ausgeglichen
                left: 2rem;
                transform: skewY(30deg);
                transition: transform 1s cubic-bezier(0.19, 1, 0.22, 1);
            }
        }
    }

    & .navlink:hover .link-text {
        transform: translateY(-220%) skewY(6deg);

        &::after {
            transform: skewY(-6deg);
        }
    }

    &[active] {
        transform: translateX(0);

        & > * {
            transition: opacity var(--transition-short) ease-in-out
                calc(var(--transition-middle) - var(--transition-short));
            opacity: 1;
        }
    }
}

.navigation-blur-filter {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: var(--font-color);
    opacity: 0;
    transition: opacity var(--transition-middle) ease-in-out, z-index 0s var(--transition-middle);
    z-index: -999;

    &[active] {
        transition: opacity var(--transition-middle) ease-in-out, z-index 0s;
        opacity: 0.25;
        z-index: 990;
    }
}

.back_button {
    backdrop-filter: blur(10px);
}

.back_button {
    position: fixed;
    top: 2rem;
    left: 2rem;
    width: 4rem;
    height: 4rem;

    border-radius: 50%;
    transition: transform 1s cubic-bezier(0.19, 1, 0.22, 1),
        background var(--transition-short) ease-in-out, color var(--transition-short) ease-in-out,
        opacity var(--transition-middle) ease-in-out;
    z-index: 995;

    & > a {
        width: 100%;
        height: 100%;

        display: flex;
        justify-content: center;
        align-items: center;

        & > i {
            font-size: 1.7rem;
            color: var(--font-color);
        }
    }

    &:hover {
        background-color: var(--main-color);

        & > a {
            & i {
                color: var(--font-color-light);
            }
        }
    }
}

@media (min-width: 60em) {
    .navigation {
        width: 40rem;
        transform: translateX(40rem);
    }
}
